/*! angular-channel 0.0.2 | Copyright (c) 2015 Eddie Blundell | MIT License */"use strict";angular.module("mouki.channel",[]).factory("EventChannel",function(a,b){function c(a){return"string"!=typeof a||"string"==typeof a&&0===a.length?!1:!0}function d(a){return"on"+a.charAt(0).toUpperCase()+a.slice(1)}var e=function(a){if(!c(a))throw new Error("Channel: invalid channelName");this.name=a};return e.prototype.getEventKey=function(a){if(!c(a))throw new Error("Channel:"+this.name+" invalid eventName");return"CHANNEL:"+this.name+":"+a},e.prototype.emit=function(b,c){a.$broadcast(this.getEventKey(b),c)},e.prototype.register=function(a,c,d){var e=this;return a.$on(this.getEventKey(c),function(a,c){try{d(c)}catch(f){b.error("Channel:"+e.name+" event threw an error"+f)}})},e.prototype.build=function(a){var b={},c=this;return angular.forEach(a,function(a){b[a]=function(b){c.emit(a,b)},b[d(a)]=function(b,d){c.register(b,a,d)}}),b},e});